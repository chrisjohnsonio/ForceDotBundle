
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
		<title>SOQL Results</title>
		<link rel="stylesheet" href="slickgrid/slick.grid.css" type="text/css" media="screen" charset="utf-8" />
        <link rel="stylesheet" href="slickgrid/css/smoothness/jquery-ui-1.8.2.custom.css" type="text/css" media="screen" charset="utf-8" />
		<link rel="stylesheet" href="slickgrid/examples/examples.css" type="text/css" media="screen" charset="utf-8" />
		<style>
		body {
			margin: 5px;
			background-color: white;
		}
		</style>
	</head>
	<body>
		<table style="width:600px">
		<tr>
			<td valign="top" style="width:600px">
				<h2>Results</h2>
				<div id="fields" style="width:600px;height:400px;"></div>
			</td>
		</tr>
		<tr>
			<td valign="top" style="width:600px;">
				<div id="children" style="width:600px;height:400px;"></div>
			</td>
		</tr>
		</table>
		<script language="JavaScript" src="data.json"></script>
		<script language="JavaScript" src="slickgrid/lib/jquery-1.4.2.min.js"></script>
		<script language="JavaScript" src="slickgrid/lib/jquery.event.drag-2.0.min.js"></script>
        <script src="slickgrid/slick.editors.js"></script>
		<script language="JavaScript" src="slickgrid/slick.grid.js"></script>
		
		<script>
		var grid;
		var options = {
			enableColumnReorder: false, 
			enableCellNavigation: true,
            editable: true
		};

		$(function() {
			if(!data.records) { window.location.reload(true); }
			var columns = createColumns(data.records[0]);
			grid = new Slick.Grid($("#fields"), data.records, columns, options);
		})

		function createColumns(myObj) {
			columns = new Array();
			for (myKey in myObj){
				if(myKey != 'attributes') {
					columns.push({id: myKey, name: myKey, field: myKey, editor:TextCellEditor});
				}
			}
			
			return columns;
		}
		
		</script>

	</body>
</html>


<!--
<script> 
function CreateDetailView(objArray, theme, enableHeader) { 
	var array = typeof objArray != 'object' ? JSON.parse(objArray) : objArray; 
	var str = '<table class="' + theme + '">'; str += '<tbody>'; 
	for (var i = 0; i < array.length; i++) { 
		str += '<tr>'; 
			str += '<td>'+array[i].name+'</td>'; 
			str += '<td>'+array[i].label+'</td>'; 
			str += '<td>'+array[i].type+'</td>'; 
	} 
	str += '</tbody>'; 
	str += '</table>'; 
	return str; 
	} 
</script> 
-->